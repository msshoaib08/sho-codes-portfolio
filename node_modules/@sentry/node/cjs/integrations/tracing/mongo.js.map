{"version":3,"file":"mongo.js","sources":["../../../../src/integrations/tracing/mongo.ts"],"sourcesContent":["import { MongoDBInstrumentation } from '@opentelemetry/instrumentation-mongodb';\nimport { defineIntegration } from '@sentry/core';\nimport { addOpenTelemetryInstrumentation } from '@sentry/opentelemetry';\nimport type { IntegrationFn } from '@sentry/types';\n\nimport { addOriginToSpan } from '../../utils/addOriginToSpan';\n\nconst _mongoIntegration = (() => {\n  return {\n    name: 'Mongo',\n    setupOnce() {\n      addOpenTelemetryInstrumentation(\n        new MongoDBInstrumentation({\n          responseHook(span) {\n            addOriginToSpan(span, 'auto.db.otel.mongo');\n          },\n        }),\n      );\n    },\n  };\n}) satisfies IntegrationFn;\n\n/**\n * MongoDB integration\n *\n * Capture tracing data for MongoDB.\n */\nexport const mongoIntegration = defineIntegration(_mongoIntegration);\n"],"names":["addOpenTelemetryInstrumentation","MongoDBInstrumentation","addOriginToSpan","defineIntegration"],"mappings":";;;;;;;AAOA,MAAM,iBAAkB,IAAG,MAAM;AACjC,EAAE,OAAO;AACT,IAAI,IAAI,EAAE,OAAO;AACjB,IAAI,SAAS,GAAG;AAChB,MAAMA,6CAA+B;AACrC,QAAQ,IAAIC,6CAAsB,CAAC;AACnC,UAAU,YAAY,CAAC,IAAI,EAAE;AAC7B,YAAYC,+BAAe,CAAC,IAAI,EAAE,oBAAoB,CAAC,CAAA;AACvD,WAAW;AACX,SAAS,CAAC;AACV,OAAO,CAAA;AACP,KAAK;AACL,GAAG,CAAA;AACH,CAAC,CAAE,EAAA;AACH;AACA;AACA;AACA;AACA;AACA;MACa,gBAAiB,GAAEC,sBAAiB,CAAC,iBAAiB;;;;"}